<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech 3 - System Stability (1280x720)</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @media print {
            @page { size: 33.86cm 19.05cm; margin: 0; }
            body { margin: 0 !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
        body { font-family: 'Pretendard', sans-serif; background: #333; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        .page-container {
            width: 1280px; height: 720px;
            background-color: #f8fafc;
            display: flex; flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            overflow: hidden; position: relative;
            background-image: radial-gradient(at 0% 0%, rgba(167, 139, 250, 0.15) 0px, transparent 50%),
                              radial-gradient(at 100% 100%, rgba(244, 114, 182, 0.15) 0px, transparent 50%);
        }

        .top-line { position: absolute; top: 0; left: 0; width: 100%; height: 5px; background: #0f172a; z-index: 30; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.9); border-radius: 1.2rem; }
        
        .badge { font-size: 0.8rem; font-weight: 800; padding: 0.3rem 0.8rem; border-radius: 9999px; text-transform: uppercase; }
        .badge-navy { background: #0f172a; color: white; }

        .code-block { 
            background: #1e293b; 
            color: #e2e8f0; 
            padding: 1rem; 
            border-radius: 0.8rem; 
            font-size: 0.8rem; 
            line-height: 1.5; 
            font-family: 'JetBrains Mono', monospace; 
            overflow: hidden; 
            /* 위로 올리기 유지: -30px */
            transform: translateY(-30px);
        }
        .kw { color: #c792ea; } .fn { color: #82aaff; } .st { color: #c3e88d; }
    </style>
</head>
<body>

    <div class="page-container p-10 pt-14 pb-8">
        <div class="top-line"></div>

        <header class="mb-6 px-3">
            <div class="flex items-center gap-3 mb-2">
                <span class="badge badge-navy">Key Engineering 03</span>
                <span class="text-indigo-600 font-black text-sm uppercase tracking-widest">Database & Stability</span>
            </div>
            <h1 class="text-5xl font-black text-slate-900 tracking-tight">하루의 조각 : System Stability</h1>
        </header>

        <div class="grid grid-cols-2 gap-8 flex-1 min-h-0 mb-4">
            
            <div class="glass-card p-10 border-t-[6px] border-amber-500 shadow-2xl flex flex-col justify-between">
                <div>
                    <div class="flex items-center gap-5 mb-6">
                        <div class="w-16 h-16 rounded-2xl bg-amber-100 flex items-center justify-center text-amber-600 text-3xl shadow-sm">
                            <i class="fas fa-database"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-800 text-3xl leading-tight">통계 쿼리 최적화</h3>
                            <p class="text-[17px] text-slate-500 font-medium mt-0.5">집계 테이블 설계를 통한 성능 개선</p>
                        </div>
                    </div>

                    <div class="space-y-6 text-slate-700">
                        <div>
                            <span class="text-xs font-black text-rose-500 bg-rose-50 px-2 py-1 rounded uppercase tracking-wider">Problem</span>
                            <p class="text-[17px] mt-2 leading-relaxed font-bold italic">데이터 누적 시 `COUNT(*)` 통계 쿼리가 느려져 대시보드 로딩이 지연됨.</p>
                        </div>
                        <div>
                            <span class="text-xs font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded uppercase tracking-wider">Solution</span>
                            <p class="text-[17px] mt-2 leading-relaxed font-bold">저장 시점에 <strong>집계 테이블(DailyStat)</strong>에 합계를 미리 저장.<br> 조회 시 <strong>O(1) 성능</strong> 확보.</p>
                        </div>
                    </div>
                </div>
                
                <div class="code-block mt-6">
<span class="kw">private void</span> <span class="fn">updateDailyStats</span>(...) {
  <span class="kw">var</span> stat = statRepo.<span class="fn">findByDate</span>(...).<span class="fn">orElse</span>(<span class="kw">new</span> Stat());
  stat.<span class="fn">incrementCount</span>();
  statRepo.<span class="fn">save</span>(stat);
}
                </div>
            </div>

            <div class="glass-card p-10 border-t-[6px] border-cyan-500 shadow-2xl flex flex-col justify-between">
                <div>
                    <div class="flex items-center gap-5 mb-6">
                        <div class="w-16 h-16 rounded-2xl bg-cyan-100 flex items-center justify-center text-cyan-600 text-3xl shadow-sm">
                            <i class="fas fa-shield-virus"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-800 text-3xl leading-tight">API 장애 대응</h3>
                            <p class="text-[17px] text-slate-500 font-medium mt-0.5">외부 시스템 예외 처리 전략</p>
                        </div>
                    </div>

                    <div class="space-y-6 text-slate-700">
                        <div>
                            <span class="text-xs font-black text-rose-500 bg-rose-50 px-2 py-1 rounded uppercase tracking-wider">Problem</span>
                            <p class="text-[17px] mt-2 leading-relaxed font-bold italic">Gemini API 장애 발생 시, 전체 트랜잭션이 롤백되어 서비스 가용성이 저하됨.</p>
                        </div>
                        <div>
                            <span class="text-xs font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded uppercase tracking-wider">Solution</span>
                            <p class="text-[17px] mt-2 leading-relaxed font-bold">API 호출부를 <code>try-catch</code>로 제어하고 예외 정책을 수립하여 시스템 안정성 강화.</p>
                        </div>
                    </div>
                </div>

                <div class="code-block mt-6">
<span class="kw">try</span> {
  response = webClient.post().uri(url)...<span class="fn">block</span>();
} <span class="kw">catch</span> (Exception e) {
  <span class="fn">log</span>.error(<span class="st">"Gemini API Error"</span>, e);
  <span class="kw">throw new</span> RuntimeException(<span class="st">"API 호출 실패"</span>);
}
                </div>
            </div>

        </div>
    </div>
</body>
</html>